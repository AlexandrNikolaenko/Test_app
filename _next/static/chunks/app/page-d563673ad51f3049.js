(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5342:(e,t,a)=>{Promise.resolve().then(a.bind(a,5790)),Promise.resolve().then(a.bind(a,9413))},5790:(e,t,a)=>{"use strict";a.d(t,{default:()=>r,z:()=>x});var l=a(5155),s=a(2115),i=a(6766),n=a(8221),c=a(6874),d=a.n(c);function r(){let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{try{document.getElementById("funcBar").setAttribute("style","width:".concat(document.getElementById("taskBody").getBoundingClientRect().width,"px"))}catch(e){console.log(e)}}),(0,l.jsxs)("div",{className:"flex w-fit h-full relative max-[767px]:hidden z-30",children:[(0,l.jsxs)("div",{className:"h-full relative z-30 bg-white border-r-[1px] border-t-[1px] border-stroke min-w-[56px]",children:[(0,l.jsx)("div",{className:"p-4",onClick:()=>t(!e),children:(0,l.jsx)(i.default,{alt:"navigation",width:24,height:24,src:"/Nav".concat(e?"Active":"",".svg")})}),(0,l.jsx)("div",{className:"p-4",onClick:()=>t(!1),children:(0,l.jsx)(i.default,{alt:"navigation",width:24,height:24,src:"/Star.svg"})})]}),(0,l.jsx)(u,{isOpen:e})]})}function u(e){let{isOpen:t}=e;return(0,l.jsxs)("nav",{className:"flex flex-col ".concat(t?"":"hidden"," relative max-[767px]:fixed max-[767px]:top-0 max-[767px]:left-0 max-[767px]:mt-14 z-20 max-[767px]:z-50 transition-all h-full overflow-scroll border-r-[1px] border-stroke min-w-[280px] bg-white"),children:[(0,l.jsxs)("div",{className:"flex gap-2 p-4 border-y-[1px] border-y-stroke",children:[(0,l.jsx)("div",{className:"filter_search relative",children:(0,l.jsx)("input",{placeholder:"Поиск по меню",name:"menuSearch",id:"menuSearch",className:"min-w-[208px]"})}),(0,l.jsx)("button",{className:"small-bt",onClick:e=>e.preventDefault(),children:(0,l.jsx)(i.default,{alt:"no pin",width:20,height:20,src:"/no-pin.svg"})})]}),(0,l.jsx)("ul",{className:"flex flex-col bg-bg-input",children:n.MC.map(e=>(0,l.jsx)(o,{link:e},e.id))})]})}function o(e){let{link:t}=e,[a,n]=(0,s.useState)(!1);return(0,l.jsxs)("li",{className:"flex gap-2 py-2.5 px-4 items-center",children:[(0,l.jsx)(i.default,{alt:"open",width:16,height:16,src:"/Arrow.svg",onClick:()=>n(!a),className:"transition-all ".concat(a?"rotate-90":"")}),(0,l.jsx)(d(),{href:t.link,className:"text-sm",children:t.text})]})}function x(){let[e,t]=(0,s.useState)(!1);return(0,l.jsxs)("div",{className:"flex relative min-[766px]:hidden z-30 h-8 w-8",children:[(0,l.jsx)(i.default,{alt:"navigation",width:24,height:24,src:"/Nav".concat(e?"Active":"",".svg"),onClick:()=>t(!e)}),(0,l.jsx)(u,{isOpen:e})]})}},5988:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(2115);function s(e){let[t,a]=(0,l.useState)({data:null,isSuccess:!1,isLoad:!1});return(0,l.useEffect)(()=>{t.isLoad||async function(){try{let t=await fetch(e);if(t.ok)a({data:await t.json(),isSuccess:!0,isLoad:!0});else throw Error(t.status)}catch(e){console.log(e),a({...t,isLoad:!0})}}()}),{data:t,setData:a}}},8221:(e,t,a)=>{"use strict";a.d(t,{MC:()=>s,TN:()=>n,VV:()=>i,kQ:()=>l});let l={avatar:"/Avatar.png",username:"Максим Галактионов"},s=[{id:0,text:"Моя работа",link:"/"},{id:1,text:"Структура портала",link:"/"},{id:2,text:"Личное расписание",link:"/"},{id:3,text:"Отсутствие на рабочем месте",link:"/"},{id:4,text:"Портфель услуг",link:"/"},{id:5,text:"Дашборды",link:"/"},{id:6,text:"Доски задач",link:"/"},{id:7,text:"Обращения",link:"/"},{id:8,text:"События",link:"/"},{id:9,text:"Инциденты",link:"/"},{id:10,text:"Проблемы",link:"/"},{id:11,text:"Настройка каталогов",link:"/"},{id:12,text:"Запросы на обслуживание",link:"/"},{id:13,text:"Запросы на изменение",link:"/"},{id:14,text:"Управление конфигурациями",link:"/"},{id:15,text:"Управление уровнем услуг",link:"/"},{id:16,text:"Настройка соответствий",link:"/"}],i=[{id:0,name:"Константин Константинопольский"},{id:1,name:"Андрей Пивоваров"},{id:2,name:"Максим Галактионов"},{id:3,name:"Алла Лин"},{id:4,name:"Константин Константинопольский Константинович"},{id:5,name:"Игорь Иванченко"},{id:6,name:"Юлия Эйчаровна"},{id:7,name:"Артём Подпрыгайко-Саппортов"},{id:8,name:"Илья Вазнец"},{id:9,name:"Михаил Вортенов"},{id:10,name:"Наталья Нашевна"},{id:11,name:"Евгения Итамовна"},{id:12,name:"Алиса Киральчук"}],n=[{id:0,name:"Support Group"}]},9413:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var l=a(5155),s=a(2115),i=a(6766),n=a(8221),c=a(5988),d=a(9642);let r={title:"STSK0004783 На инциденте, запросе, проблеме, в статусе закрыто некоторые поля остаются редактируемыми для агента если он Caller",theme:{defaultValue:"На инциденте, запросе, проблеме, в статусе закрыто некоторые поля остаются редактируемыми для агента если он Caller"},status:{defaultValue:"Новая"},description:{defaultValue:""},product:{defaultValue:"Paltform"},notes:{defaultValue:"Проверить ACL id=172830402014193655"},priority:{defaultValue:"Средний"},incharge:{defaultValue:n.VV[0],variants:n.VV},group:{defaultValue:n.TN[0],variants:n.TN},comments:{defaultValue:""},coordinating:{defaultValues:n.VV.slice(0,12),variants:n.VV},opened_at:{defaultValue:""},created_at:{defaultValue:"22.10.2024"},opener:{defaultValue:n.VV[0],variants:n.VV},creator:{defaultValue:n.VV[0],variants:n.VV}};function u(){let[e,t]=(0,s.useState)(!0),{data:a,setData:i}=(0,c.A)("".concat(d.Q,"/task?id=").concat(1)),[n,u]=(0,s.useState)(320);if((0,s.useEffect)(()=>{a.isSuccess&&a.isLoad&&e&&0==document.getElementById("taskBody").scrollTop&&t(!1)},[a.isSuccess,a.isLoad,e]),(0,s.useEffect)(()=>{a.isSuccess&&a.isLoad&&(u(document.getElementById("taskBody").getBoundingClientRect().width),document.getElementById("funcBar").setAttribute("style","width:".concat(document.getElementById("taskBody").getBoundingClientRect().width,"px")))},[a.isSuccess,a.isLoad]),!a.isSuccess&&a.isLoad)i({isLoad:!0,isSuccess:!0,data:r});else{if(!a.isLoad)return(0,l.jsx)(l.Fragment,{});let s=a.data;return(0,l.jsxs)("div",{id:"taskBody",className:"relative z-10 w-full pb-4 h-full overflow-scroll border-t-[1px] border-stroke",onScroll:function(a){!e&&a.target.scrollTop>0?t(!0):e&&0==a.target.scrollTop&&t(!1)},children:[(0,l.jsxs)("div",{id:"funcBar",className:"fixed z-10 p-4 w-full bg-white ".concat(e&&"shadow-base"," w-full max-w-[").concat(n,"px] flex justify-between items-center"),children:[(0,l.jsxs)("div",{className:"flex gap-4 items-center max-[767px]:justify-between max-[767px]:w-full",children:[(0,l.jsx)("h3",{className:"text-xl font-title",children:"Подзадача"}),(0,l.jsx)("button",{className:"bg-white aspect-auto text-sm px-3 py-1.5",onClick:function(e){e.preventDefault()},children:"Создать"})]}),(0,l.jsxs)("div",{className:"flex gap-4 items-center max-[767px]:hidden",children:[(0,l.jsx)("button",{className:"aspect-auto text-white text-sm px-3 py-1.5 bg-[#0078CF]",onClick:function(e){e.preventDefault()},children:"Сохранить"}),(0,l.jsx)("button",{className:"bg-white aspect-auto text-sm px-3 py-1.5",onClick:function(e){e.preventDefault()},children:"Сохранить и выйти"})]})]}),(0,l.jsxs)("form",{className:"flex flex-col gap-4 px-4 pt-[64px]",children:[(0,l.jsx)("h2",{className:"font-semibold font-title text-2xl max-[767px]:text-xl mb-2 line-clamp-1 max-w-[".concat(n,"px]"),children:s.title}),(0,l.jsxs)(o,{children:[(0,l.jsx)(h,{name:"theme",label:"Тема",defaultValue:s.theme.defaultValue}),(0,l.jsx)(f,{name:"status",defaultValue:s.status.defaultValue,label:"Статус"})]}),(0,l.jsxs)(o,{children:[(0,l.jsx)(f,{name:"description",label:"Описание",defaultValue:s.description.defaultValue}),(0,l.jsx)(m,{name:"product",label:"Продукт",defaultValue:s.product.defaultValue})]}),(0,l.jsxs)(o,{children:[(0,l.jsx)(h,{name:"notes",label:"Рабочие заметки",defaultValue:s.notes.defaultValue}),(0,l.jsx)(f,{name:"priority",defaultValue:s.priority.defaultValue,label:"Приоритет"})]}),(0,l.jsxs)(o,{children:[(0,l.jsx)(x,{name:"incharge",label:"Ответственный",defaultValue:s.incharge.defaultValue,variants:s.incharge.variants}),(0,l.jsx)(x,{name:"group",label:"Группа",defaultValue:s.group.defaultValue,variants:s.group.variants})]}),(0,l.jsx)(o,{children:(0,l.jsx)(f,{name:"comments",height:!0,label:"Комментарии",defaultValue:s.comments.defaultValue})}),(0,l.jsx)(o,{children:(0,l.jsx)(j,{name:"coordinating",label:"Согласующие",defaultValues:s.coordinating.defaultValues,variants:s.coordinating.variants})}),(0,l.jsxs)(o,{children:[(0,l.jsx)(p,{name:"opened_at",label:"Когда открыто",defaultValue:s.opened_at.defaultValue}),(0,l.jsx)(p,{name:"created_at",label:"Когда создано",defaultValue:s.created_at.defaultValue})]}),(0,l.jsxs)(o,{children:[(0,l.jsx)(x,{name:"opener",label:"Кем открыто",defaultValue:s.opener.defaultValue,variants:s.opener.variants}),(0,l.jsx)(x,{name:"creator",label:"Кем создано",defaultValue:s.creator.defaultValue,variants:s.creator.variants})]})]})]})}}function o(e){let{children:t}=e;return(0,l.jsx)("div",{className:"flex flex-row max-[991px]:flex-col gap-4",children:t})}function x(e){let{label:t,defaultValue:a,name:n,variants:c}=e,[d,r]=(0,s.useState)(!1),[u,o]=(0,s.useState)(a);return(0,l.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,l.jsx)("label",{htmlFor:n,className:"text-sm",children:t}),(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsxs)("div",{name:n,id:n,defaultValue:a,className:"w-full as_input relative pr-[30px]",children:[u&&(0,l.jsx)("div",{className:"choose flex gap-2 items-center py-0.5 px-2 h-6",children:(0,l.jsx)("span",{className:"text-sm line-clamp-1 ",children:u.name})}),(0,l.jsx)(i.default,{alt:"clear",height:16,width:16,src:"/clear.svg",onClick:()=>o(!1),className:"absolute top-2 right-2 cursor-pointer"}),(0,l.jsx)(g,{setValue:o,variants:c,isOpen:d})]}),(0,l.jsx)("button",{className:"small-bt",onClick:e=>{e.preventDefault(),r(!d)},children:(0,l.jsx)(i.default,{alt:"add",width:20,height:20,src:"/plus.svg"})}),(0,l.jsx)("button",{className:"small-bt",onClick:e=>e.preventDefault(),children:(0,l.jsx)(i.default,{alt:"search",width:20,height:20,src:"/search.svg"})})]})]})}function m(e){let{label:t,defaultValue:a,name:s}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,l.jsx)("label",{htmlFor:s,className:"text-sm",children:t}),(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("input",{name:s,id:s,defaultValue:a,className:"w-full"}),(0,l.jsx)("button",{className:"small-bt",onClick:e=>e.preventDefault(),children:(0,l.jsx)(i.default,{alt:"search",width:20,height:20,src:"/search.svg"})})]})]})}function f(e){let{label:t,defaultValue:a,name:s,height:i}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,l.jsx)("label",{htmlFor:s,className:"text-sm",children:t}),i?(0,l.jsx)("textarea",{name:s,id:s,defaultValue:a,className:"w-full as_input"}):(0,l.jsx)("input",{name:s,id:s,defaultValue:a,className:"w-full"})]})}function h(e){let{label:t,defaultValue:a,name:s}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,l.jsxs)("label",{htmlFor:s,className:"flex gap-1 text-sm",children:[(0,l.jsx)("span",{className:"text-red-800",children:"*"}),t]}),(0,l.jsx)("input",{required:!0,name:s,id:s,defaultValue:a,className:"w-full"})]})}function p(e){let{label:t,defaultValue:a,name:s}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,l.jsx)("label",{htmlFor:s,className:"text-sm",children:t}),(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("input",{name:s,type:"date",id:s,defaultValue:a,className:"w-full"}),(0,l.jsx)("button",{onClick:function(e){e.preventDefault(),document.getElementById(s).showPicker()},className:"small-bt",children:(0,l.jsx)(i.default,{alt:"search",width:20,height:20,src:"/calendar.svg"})})]})]})}function j(e){let{label:t,defaultValues:a,name:n,variants:c}=e,[d,r]=(0,s.useState)(!1),[u,o]=(0,s.useState)(a);return(0,l.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,l.jsx)("label",{htmlFor:n,className:"text-sm",children:t}),(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsxs)("div",{name:n,type:"date",id:n,className:"w-full relative flex flex-wrap pr-[30px] gap-1 as_input",values:u,children:[u.map(e=>(0,l.jsxs)("div",{className:"choose flex gap-2 items-center py-0.5 px-2",children:[(0,l.jsx)("span",{className:"text-sm line-clamp-1",children:e.name}),(0,l.jsx)(i.default,{alt:"delete",width:9.5,height:16,src:"/Close.svg",onClick:()=>{console.log(e),o(u.filter(t=>t.id!=e.id))}})]},e.id)),(0,l.jsx)(i.default,{alt:"clear",height:16,width:16,src:"/clear.svg",onClick:()=>o([]),className:"absolute top-2 right-2 cursor-pointer"}),(0,l.jsx)(g,{variants:c,isOpen:d,setValue:function(e){Array.from(u).includes(e)||o(u.concat(e))}})]}),(0,l.jsx)("button",{className:"small-bt",onClick:e=>{e.preventDefault(),r(!d)},children:(0,l.jsx)(i.default,{alt:"add",width:20,height:20,src:"/plus.svg"})}),(0,l.jsx)("button",{className:"small-bt",onClick:e=>e.preventDefault(),children:(0,l.jsx)(i.default,{alt:"search",width:20,height:20,src:"/search.svg"})})]})]})}function g(e){let{variants:t,setValue:a,isOpen:s}=e;return(0,l.jsx)("ul",{className:"absolute right-[4px] ".concat(!s&&"hidden"," bg-white flex flex-col as_input z-50"),children:t.map(e=>(0,l.jsx)("li",{className:"cursor-pointer px-2 py-1 text-sm",onClick:()=>a(e),children:e.name},e.id))})}},9642:(e,t,a)=>{"use strict";a.d(t,{Q:()=>l});let l="http://loaclhost:5000"}},e=>{var t=t=>e(e.s=t);e.O(0,[259,441,684,358],()=>t(5342)),_N_E=e.O()}]);